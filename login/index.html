<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login</title>
  <link rel="stylesheet" href="renal-care-login.css" />

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/11.6.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/11.6.0/firebase-auth-compat.js"></script>

  <script>
    const firebaseConfig = {
      apiKey:            "AIzaSyAy3V0HpECz611eo3gpVE50KjNC_BRo608",
      authDomain:        "yepbro-e3468.firebaseapp.com",
      projectId:         "yepbro-e3468",
      storageBucket:     "yepbro-e3468.firebasestorage.app",
      messagingSenderId: "616963714633",
      appId:             "1:616963714633:web:ef2f7fa085c6e989f2d998",
      measurementId:     "G-GG3N0299VE"
    };

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    // If already logged in, skip straight to the dashboard
    auth.onAuthStateChanged((user) => {
      if (user) {
        window.location.href = "../index.html";
      }
    });
  </script>
</head>
<body>

<div class="login-wrapper">
  <!-- Left: Logo + Title -->
  <div class="logo-title-wrapper">
    <img src="/Assets/logo-no-bg.png" alt="Logo" class="logo-img" />
    <h1 class="login-title">LUZON RENAL CARE</h1>
  </div>

  <!-- Right: Login form -->
  <div class="login-card">
    <div class="form-group">
      <input type="email" id="username" placeholder="Enter email" />
    </div>

    <div class="form-group">
      <input type="password" id="password" placeholder="Enter password" />
    </div>

    <button onclick="login()" id="loginBtn">Login</button>

    <div class="forgot-pass">
      <p>Forgot password?</p>
    </div>

    <div class="error" id="error">Invalid email or password</div>
  </div>
</div>


<footer>
  <div class="footer-content">

    <div class="footer-grid">
      
      <!-- LEFT COLUMN -->
      <div class="footer-col-left">
        <h3>LUZON RENAL CARE</h3>
        <p class="footer-desc">
          Hospital Monitoring & Accounting System
        </p>

        <p class="footer-small">Version 1.0.0</p>
        <p class="footer-small">Support: rafaelvberinguelajr@gmail.com</p>
      </div>

      <!-- RIGHT COLUMN -->
      <div class="footer-col">
        <h4>System Modules</h4>
        <ul class="footer-list">
          <li>Inventory</li>
          <li>Sales</li>
          <li>Accounting</li>
          <li>Reports</li>
        </ul>

        <h4>User Roles</h4>
        <ul class="footer-list">
          <li>Admin</li>
          <li>Accounting</li>
          <li>Nurses</li>
          <li>Owner</li>
        </ul>
      </div>

    </div>

    <p class="footer-credit">
      Powered by HYDROMED<br>
      Â© 2026 All rights reserved
    </p>

  </div>
</footer>


  <script>
    async function login() {
      const email    = document.getElementById("username").value.trim();
      const password = document.getElementById("password").value;
      const error    = document.getElementById("error");
      const btn      = document.getElementById("loginBtn");

      // Hide old error
      error.style.display = "none";

      // Basic validation
      if (!email || !password) {
        error.textContent   = "Please enter both email and password";
        error.style.display = "block";
        return;
      }

      // Disable button while signing in
      btn.disabled     = true;
      btn.textContent  = "Logging in...";

      try {
        await auth.signInWithEmailAndPassword(email, password);
        // onAuthStateChanged will fire and redirect to ../index.html
      } catch (e) {
        // Re-enable button
        btn.disabled    = false;
        btn.textContent = "Login";

        // Show a friendly message for any error
        error.textContent   = "Invalid email or password";
        error.style.display = "block";
      }
    }

    // Allow pressing Enter to log in
    document.addEventListener("keydown", (e) => {
      if (e.key === "Enter") login();
    });
  </script>
</body>
</html>